---
name: antigravity-prd-writer
description: 基于 Antigravity 规范的产品需求文档 (PRD) 编写技能，确保需求清晰、可执行
---

# PRD 编写规范 (Antigravity Style)

## 使用场景
- 需要编写新功能的需求文档
- 需要明确产品功能和用户故事
- 需要为开发团队提供清晰的实施指导
- 需要为项目建立完整的文档体系

## 工作流程

### Step 1: 需求收集与确认
在开始编写 PRD 之前，需要确认以下信息：
- **功能名称**: 要做什么功能？
- **业务背景**: 为什么做？解决什么问题？
- **目标用户**: 谁会用？用户画像是什么？
- **成功标准**: 如何衡量功能成功？

### Step 2: 需求分析
1. **核心功能梳理**: 区分 P0（必须）、P1（重要）、P2（辅助）功能
2. **用户故事拆解**: 拆分成具体的用户故事 (User Story)
3. **边界条件识别**: 明确正常流程、异常流程、边界条件
4. **依赖分析**: 识别外部依赖、第三方服务、基础设施

### Step 3: 编写 PRD
按照标准模板结构编写，确保包含：
1. **概览**: 功能概述、目标、用户画像
2. **功能需求**: 核心功能列表、用户故事、功能详细描述
3. **非功能需求**: 性能、安全、兼容性、可扩展性
4. **技术方案**: 技术选型、架构设计、数据模型、API 设计
5. **实施计划**: 阶段划分、里程碑、风险分析
6. **测试计划**: 测试策略、用例设计
7. **上线与监控**: Checklist、监控指标、回滚方案

### Step 4: 评审与完善
- 组织 PRD 评审会议
- 收集开发、测试、运维反馈
- 更新完善 PRD 文档
- 归档历史版本

## PRD 核心要素

### 概览 (Overview)
- **功能名称**: 简洁明确
- **业务目标**: 量化指标 (e.g., "提升转化率 5%")
- **目标用户**: 清晰的用户画像
- **成功标准**: 可量化的指标

### 功能需求 (Functional Requirements)
- **优先级排序**: P0 > P1 > P2
- **验收标准**: 明确的完成条件 (Given-When-Then)
- **用户故事**: 标准格式 (As a... I want... So that...)
- **业务流程**: 清晰的流程图 (Mermaid 或 ASCII)

### 非功能需求 (Non-Functional Requirements)
- **性能**: 响应时间、并发量、吞吐量
- **安全**: 认证、授权、数据加密、审计日志
- **兼容**: 浏览器、设备、操作系统
- **扩展**: 水平扩展、模块解耦、配置化

### 技术方案 (Technical Design)
- **技术选型**: 明确的技术栈选择及理由
- **架构设计**: 系统架构图、组件交互
- **数据模型**: 数据库表设计、字段说明
- **API 设计**: RESTful API 接口定义

## 使用模板

### 引用模板文件
```
使用 antigravity-prd-writer 技能的 references/prd-template.md 模板
```

### 输出规范
- **文件名**: `[功能名]-PRD-v版本号.md`
- **位置**: 项目 docs 目录或 wiki
- **格式**: Markdown

## 最佳实践

### 1. 用户故事拆分原则
- **INVEST 原则**:
  - Independent (独立)
  - Negotiable (可协商)
  - Valuable (有价值)
  - Estimable (可估算)
  - Small (足够小)
  - Testable (可测试)

### 2. 验收标准编写
- 使用 Given-When-Then 格式:
```
Given [初始状态]
When [用户操作]
Then [期望结果]
```

### 3. API 设计规范
- 遵循 RESTful 最佳实践
- 使用标准 HTTP 方法
- 提供完整的请求/响应示例
- 明确错误码定义

### 4. 数据模型设计
- 遵循数据库范式设计
- 合理使用索引
- 考虑数据量增长
- 预留扩展字段

## 与其他技能配合

### 与 antigravity-code-style 配合
- PRD 中的代码示例遵循 antigravity-code-style 规范
- API 设计符合统一的命名规范

### 与 antigravity-code-reviewer 配合
- PRD 评审时可使用 antigravity-code-reviewer 技能
- 检查技术方案的完整性和可行性

## 常见问题与解决方案

### Q1: 需求不清晰怎么办？
**方案**: 组织需求澄清会议，产出需求澄清清单

### Q2: 功能范围蔓延怎么办？
**方案**: 明确 MVP（最小可行产品），后续迭代

### Q3: 技术方案无法实现怎么办？
**方案**: 及时沟通，评估替代方案，调整需求

## 输出检查清单

在提交 PRD 之前，检查以下项：
- [ ] 文档信息完整（作者、版本、日期）
- [ ] 概览清晰，业务目标明确
- [ ] 功能列表优先级明确（P0/P1/P2）
- [ ] 用户故事完整，验收标准可测试
- [ ] 非功能需求覆盖全面
- [ ] 技术方案可行，架构设计合理
- [ ] API 设计完整，示例清晰
- [ ] 数据模型设计规范
- [ ] 实施计划合理，里程碑明确
- [ ] 风险分析到位，应对措施可行
- [ ] 语法检查通过，无错别字
- [ ] 遵循 antigravity-code-style 规范（中文注释、命名规范）

## 示例输出

### 示例 1: 简单功能 PRD
```markdown
# 用户登录功能 PRD

## 1. 概览
- **功能名称**: 用户登录
- **目标**: 实现用户通过账号密码登录系统
- **成功标准**: 登录成功率 > 99%，平均响应时间 < 500ms

## 2. 功能需求
- P0: 账号密码登录
- P0: 登录失败提示
- P1: 记住登录状态
- P1: 密码找回

...
```

### 示例 2: 复杂功能 PRD
```markdown
# 订单管理系统 PRD

## 1. 概览
...
## 2. 功能需求
...
## 3. 非功能需求
...
## 4. 技术方案
...
## 5. 实施计划
...
## 6. 测试计划
...
## 7. 上线与监控
...
```

## 注意事项

1. **保持简洁**: 避免冗余，聚焦核心需求
2. **可执行性**: 每个功能点都应有明确的验收标准
3. **可追溯性**: 关联需求文档、JIRA Ticket、用户反馈
4. **版本管理**: 记录 PRD 版本变更历史
5. **及时更新**: 需求变更时同步更新 PRD
