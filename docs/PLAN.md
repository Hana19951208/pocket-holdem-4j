# é¡¹ç›®å®æ–½è®¡åˆ’

> æœ¬é¡¹ç›®æ˜¯åŸºäº `/Users/Hana/Codes/pocket-holdem-mvp` çš„ Java é‡æ„ç‰ˆæœ¬ã€‚
> æ‰€æœ‰åŠŸèƒ½å®ç°éœ€å‚è€ƒåŸé¡¹ç›®çš„ TypeScript ä»£ç ã€‚
>
> ğŸ“Œ **è¯¦ç»†å®æ–½è®¡åˆ’**: è¯¦ç»†è®¡åˆ’æ–‡ä»¶ä½äº `.sisyphus/plans/` ç›®å½•
>
> âš ï¸ **æ¶æ„æ•´æ”¹**: å·²æ ¹æ®æ¶æ„å¸ˆå»ºè®®è¡¥å……P0/P1é£é™©é¡¹æ•´æ”¹ï¼Œæ€»å·¥æœŸè°ƒæ•´ä¸º 15-18å¤©

---

## ğŸ“Š æ•´æ”¹æ–¹æ¡ˆæ€»ç»“

### æ—¶é—´è°ƒæ•´

| ç‰ˆæœ¬ | æ€»å·¥æœŸ | ä¸»è¦å˜æ›´ |
|------|--------|---------|
| åŸè®¡åˆ’ | 7-12å¤© | åŸºç¡€åŠŸèƒ½å®ç° |
| æ•´æ”¹å | **15-18å¤©** | +6-8å¤©ï¼ˆçº¦50%ï¼‰ |

### æ ¸å¿ƒæ”¹è¿›

1. **æ¶æ„å¯¹é½** - è¡¥å……å¹¶å‘æ¨¡å‹è®¾è®¡æ–‡æ¡£
2. **æ•°æ®ä¸€è‡´æ€§** - å®šä¹‰å®Œæ•´çš„DTOä½“ç³»å’Œæ•°å€¼è®¡ç®—è§„èŒƒ
3. **ç±»å‹å®‰å…¨** - å¼ºç±»å‹DTOæ›¿ä»£éšå¼æ•°æ®ç»“æ„
4. **æµ‹è¯•è¦†ç›–** - è¡¥å……å¹¶å‘æµ‹è¯•ã€é›†æˆæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•

### é£é™©åˆ†çº§

| ç­‰çº§ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| ğŸ”´ P0 | 3é¡¹ | å¿…é¡»ä¿®å¤ï¼Œé˜»å¡å¼€å‘ |
| ğŸŸ¡ P1 | 3é¡¹ | å¼ºçƒˆå»ºè®®ï¼Œå½±å“ç¨³å®šæ€§ |
| ğŸŸ¢ P2 | 2é¡¹ | å»ºè®®ä¼˜åŒ–ï¼Œå½±å“æ‰©å±•æ€§ |

---

## ğŸ“‹ é˜¶æ®µæ€»è§ˆï¼ˆæ•´æ”¹åï¼‰

| é˜¶æ®µ | æ¨¡å—æ•°é‡ | æµ‹è¯•æ–¹æ³•æ•° | é¢„ä¼°å·¥ä½œé‡ | ä¼˜å…ˆçº§ | é£é™©é¡¹ |
|------|---------|-----------|-----------|--------|--------|
| é˜¶æ®µ0 | 5ä»½æ–‡æ¡£ | - | **2å¤©** | ğŸ”´ P0 | 3é¡¹P0 |
| é˜¶æ®µä¸€ | 9ä¸ªç±» | ~102ä¸ª | **3å¤©** | ğŸ”´ P0 | 1é¡¹P0 |
| é˜¶æ®µäºŒ | 5ä¸ªç±» | ~63ä¸ª | **2å¤©** | ğŸŸ¡ P1 | 1é¡¹P1 |
| é˜¶æ®µä¸‰ | WebSocketå±‚ | ~30ä¸ª | **3-4å¤©** | ğŸŸ¡ P1 | 2é¡¹P1 |
| é˜¶æ®µå›› | æµ‹è¯•ä¸ä¼˜åŒ– | ~10ä¸ª | **2å¤©** | ğŸŸ¢ P2 | 2é¡¹P2 |
| é˜¶æ®µäº” | UniAppå‰ç«¯ | ~50ä¸ª | **3å¤©** | ğŸŸ¡ P1 | - |
| é˜¶æ®µå…­ | ä¼˜åŒ–å‘å¸ƒ | - | **2å¤©** | ğŸŸ¢ P2 | - |
| **æ€»è®¡** | **19ä¸ªç±»** | **~255ä¸ª** | **15-18å¤©** | - | **8é¡¹** |

---

## ğŸ“… é˜¶æ®µ0ï¼šæ¶æ„è®¾è®¡æ–‡æ¡£è¡¥å…… (ğŸ”´ P0)

**ç›®æ ‡**: è¡¥å……5ä»½å…³é”®æ¶æ„è®¾è®¡æ–‡æ¡£ï¼Œæ˜ç¡®å¹¶å‘æ¨¡å‹ã€DTOä½“ç³»ã€æ•°å€¼è®¡ç®—è§„èŒƒã€STOMPåè®®é€‚é…å’Œæµ‹è¯•ç­–ç•¥ã€‚

**ä¼˜å…ˆçº§**: ğŸ”´ P0ï¼ˆå¿…é¡»ä¿®å¤ï¼Œé˜»å¡å¼€å‘ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 2å¤©

**é£é™©é¡¹**: 
- ğŸ”´ P0-1: DTOä½“ç³»ä¸å®Œæ•´
- ğŸ”´ P0-2: å¹¶å‘å®‰å…¨æµ‹è¯•ç¼ºå¤±
- ğŸ”´ P0-3: é”æ— è¶…æ—¶æœºåˆ¶

### å¾…å®æ–½ä»»åŠ¡

#### ä»»åŠ¡0.1ï¼šç¼–å†™å¹¶å‘æ¨¡å‹è®¾è®¡æ–‡æ¡£ (4å°æ—¶)
- [ ] **è¾“å‡º**: `docs/concurrency-model.md`
- [ ] å†…å®¹ï¼š
  - [ ] Node.js Event Loop vs Java Thread Pool å¯¹æ¯”
  - [ ] æˆ¿é—´çº§é”è®¾è®¡åŸåˆ™
  - [ ] æ­»é”é˜²æŠ¤ç­–ç•¥ï¼ˆé”è¶…æ—¶ã€é¿å…é”åµŒå¥—ï¼‰
  - [ ] æŸ¥è¯¢æ–¹æ³•å»é”åŒ–æ–¹æ¡ˆ

#### ä»»åŠ¡0.2ï¼šå®šä¹‰DTOä½“ç³»è®¾è®¡è§„èŒƒ (4å°æ—¶)
- [ ] **è¾“å‡º**: `docs/dto-design-spec.md`
- [ ] å†…å®¹ï¼š
  - [ ] DTOåˆ†å±‚ç»“æ„ï¼ˆåŸºç¡€å±‚/è§†å›¾å±‚/è¯·æ±‚å±‚/å“åº”å±‚ï¼‰
  - [ ] å­—æ®µè®¿é—®æ§åˆ¶è§„åˆ™ï¼ˆ@JsonProperty, @JsonIgnoreï¼‰
  - [ ] JSONåºåˆ—åŒ–å…¨å±€é…ç½®
  - [ ] WebSocketæ¶ˆæ¯ç±»å‹å¤šæ€ä½“ç³»
  - [ ] ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼

#### ä»»åŠ¡0.3ï¼šå®šä¹‰æ•°å€¼è®¡ç®—è§„èŒƒ (2å°æ—¶)
- [ ] **è¾“å‡º**: `docs/numeric-spec.md`
- [ ] å†…å®¹ï¼š
  - [ ] ç­¹ç æœ€å°å•ä½å®šä¹‰ï¼ˆ1å…ƒ/ç­¹ç ï¼‰
  - [ ] ç­¹ç æœ€å¤§å€¼è¾¹ç•Œè¯„ä¼°
  - [ ] ç­¹ç å¢å‡æ“ä½œåˆæ³•æ€§æ£€æŸ¥è§„åˆ™
  - [ ] æº¢å‡ºå¤„ç†ç­–ç•¥
  - [ ] æœªæ¥æ‰©å±•æ¥å£é¢„ç•™

#### ä»»åŠ¡0.4ï¼šç¼–å†™STOMPåè®®é€‚é…è®¾è®¡æ–‡æ¡£ (2å°æ—¶)
- [ ] **è¾“å‡º**: `docs/stomp-adapter-design.md`
- [ ] å†…å®¹ï¼š
  - [ ] Socket.io vs STOMP å·®å¼‚å¯¹æ¯”
  - [ ] STOMPå±‚é‡è¿æœºåˆ¶è®¾è®¡
  - [ ] åŸºäºSessionçš„æˆ¿é—´ç®¡ç†æ–¹æ¡ˆ
  - [ ] æ¶ˆæ¯ç¡®è®¤æœºåˆ¶
  - [ ] STOMPæ¶ˆæ¯åè®®è§„èŒƒ

#### ä»»åŠ¡0.5ï¼šç¼–å†™æµ‹è¯•ç­–ç•¥æ–‡æ¡£ (4å°æ—¶)
- [ ] **è¾“å‡º**: `docs/test-strategy.md`
- [ ] å†…å®¹ï¼š
  - [ ] æµ‹è¯•é‡‘å­—å¡”ï¼ˆå•å…ƒ/é›†æˆ/ç«¯åˆ°ç«¯ï¼‰
  - [ ] å¹¶å‘æµ‹è¯•é‡è¦æ€§å’Œè¦†ç›–èŒƒå›´
  - [ ] æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ï¼ˆ>80%ï¼‰
  - [ ] å‹åŠ›æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•è®¡åˆ’
  - [ ] æµ‹è¯•è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆCI/CDé›†æˆï¼‰

### éªŒæ”¶æ ‡å‡†
- [ ] 5ä»½æ–‡æ¡£ç¼–å†™å®Œæˆ
- [ ] æ–‡æ¡£ç»è¿‡Reviewå¹¶æ‰¹å‡†
- [ ] åç»­å¼€å‘å·¥ä½œå‚è€ƒè¿™äº›æ–‡æ¡£

---

## ğŸ“… é˜¶æ®µä¸€ï¼šJava åç«¯æ ¸å¿ƒå¼•æ“ (ğŸ”´ P0)

**ç›®æ ‡**: å®Œæˆä¸ä¾èµ–ç½‘ç»œçš„çº¯é€»è¾‘éƒ¨åˆ†ï¼Œç¡®ä¿æ¸¸æˆè§„åˆ™æ­£ç¡®ã€‚

**ä¼˜å…ˆçº§**: ğŸ”´ P0ï¼ˆæ ¸å¿ƒä¾èµ–ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 3å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µ0å®Œæˆ

**é£é™©é¡¹**: 
- ğŸ”´ P0-2: å¹¶å‘å®‰å…¨æµ‹è¯•ç¼ºå¤±

### å®æ–½åŸåˆ™
- **TDD é©±åŠ¨**: æµ‹è¯•å…ˆè¡Œï¼Œçº¢ç»¿é‡æ„å¾ªç¯
- **å‚è€ƒåŸä»£ç **: ä¸¥æ ¼å¯¹ç…§ TypeScript å®ç°é€»è¾‘
- **ä¸­æ–‡æ³¨é‡Š**: æ‰€æœ‰ä»£ç å’Œæ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- **Maven Wrapper**: ä½¿ç”¨ `./mvnw` è€Œé `mvn`
- **Record ä¼˜å…ˆ**: ä¸å¯å˜æ•°æ®ä¼˜å…ˆä½¿ç”¨ `record`

### å·²å®Œæˆ
- [x] æ­å»º Spring Boot 3 + Java 17 å·¥ç¨‹éª¨æ¶

### å¾…å®æ–½ä»»åŠ¡

#### ğŸ“¦ æ¨¡å—ä¸€ï¼šåŸºç¡€æšä¸¾å’Œç±»å‹å®šä¹‰ (5 ä¸ªæšä¸¾ + 1 ä¸ªå¸¸é‡ç±»)

##### 1.1 æ‰‘å…‹ç‰Œæšä¸¾
- [x] **Suit.java** - èŠ±è‰²æšä¸¾
  - å€¼: HEARTS(â™¥), DIAMONDS(â™¦), CLUBS(â™£), SPADES(â™ )
  - æµ‹è¯•: SuitTest.java (~3ä¸ªæµ‹è¯•)
  
- [x] **Rank.java** - ç‚¹æ•°æšä¸¾
  - å€¼: TWO(2) ~ ACE(14)
  - æµ‹è¯•: RankTest.java (~3ä¸ªæµ‹è¯•)

##### 1.2 æ¸¸æˆçŠ¶æ€æšä¸¾
- [ ] **GamePhase.java** - æ¸¸æˆé˜¶æ®µ
  - å€¼: PRE_FLOP, FLOP, TURN, RIVER, SHOWDOWN
  - æµ‹è¯•: GamePhaseTest.java (~1ä¸ªæµ‹è¯•)
  
- [ ] **ActionType.java** - ç©å®¶æ“ä½œç±»å‹
  - å€¼: FOLD, CHECK, CALL, RAISE, ALL_IN
  - æµ‹è¯•: ActionTypeTest.java (~1ä¸ªæµ‹è¯•)
  
- [ ] **PlayerStatus.java** - ç©å®¶çŠ¶æ€
  - å€¼: WAITING, PLAYING, FOLDED, ALL_IN, ELIMINATED
  - æµ‹è¯•: PlayerStatusTest.java (~1ä¸ªæµ‹è¯•)

##### 1.3 å·¥å…·ç±»
- [x] **ChipCalculator.java** - ç­¹ç è®¡ç®—å·¥å…·ç±»
  - æ–¹æ³•: safeAdd(), safeSubtract(), safeMultiply(), safeDivide()
  - æ–¹æ³•: validateIncrement(), validateDecrement()
  - æµ‹è¯•: ChipCalculatorTest.java (8ä¸ªæµ‹è¯•ï¼Œå«æº¢å‡ºæ£€æŸ¥)

##### 1.4 ç‰Œå‹å¸¸é‡
- [x] **HandRank.java** - ç‰Œå‹ç­‰çº§æšä¸¾
  - å€¼: HIGH_CARD(1) ~ ROYAL_FLUSH(10)
  - æµ‹è¯•: HandRankTest.java (4ä¸ªæµ‹è¯•)

---

#### ğŸ“¦ æ¨¡å—äºŒï¼šæ ¸å¿ƒæ•°æ®ç»“æ„ (4 ä¸ª Record)

##### 2.1 Card - æ‰‘å…‹ç‰Œ
```java
public record Card(Suit suit, Rank rank) {
    public String getDisplayName(); // "â™¥A", "â™ 10"
}
```
- [x] æµ‹è¯•: CardTest.java (4ä¸ªæµ‹è¯•ï¼ŒåŒ…å«åºåˆ—åŒ–)

##### 2.2 Pot - åº•æ± 
```java
public record Pot(int amount, List<String> eligiblePlayers);
```
- [x] å®ç°ï¼šPot.java
- [x] æµ‹è¯•: PotTest.java (2ä¸ªæµ‹è¯•)

##### 2.3 EvaluatedHand - è¯„ä¼°åçš„æ‰‹ç‰Œ
```java
public record EvaluatedHand(
    int handType,            // ç‰Œå‹å€¼ (0-9)
    List<Integer> kickers,   // è¸¢è„šç‰Œå€¼åˆ—è¡¨
    List<Card> bestFiveCards // æœ€ä½³5å¼ ç‰Œ
);
```
- [x] å®ç°ï¼šEvaluatedHand.java
- æµ‹è¯•: EvaluatedHandTest.java (~2ä¸ªæµ‹è¯•)

---

#### ğŸ“¦ æ¨¡å—ä¸‰ï¼šPokerEngine æ ¸å¿ƒå¼•æ“ (12 ä¸ªæ ¸å¿ƒæ–¹æ³•)

##### 3.1 ç‰Œç»„ç®¡ç† (3 ä¸ªæ–¹æ³•)
- [ ] `createDeck()` - åˆ›å»º52å¼ æ ‡å‡†ç‰Œç»„
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆæ•°é‡ã€å”¯ä¸€æ€§ã€é¡ºåºï¼‰
  
- [ ] `shuffleDeck()` - Fisher-Yates æ´—ç‰Œç®—æ³•
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆéšæœºæ€§ã€å”¯ä¸€æ€§ã€åŸåœ°æ“ä½œï¼‰
  
- [ ] `dealCards()` - ä»ç‰Œå †é¡¶éƒ¨æŠ½ç‰Œ
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆæ•°é‡ã€ç§»é™¤ã€é¡ºåºã€è¾¹ç•Œï¼‰

##### 3.2 å‘ç‰Œé€»è¾‘ (2 ä¸ªæ–¹æ³•)
- [ ] `dealHoleCards()` - å‘åº•ç‰Œï¼ˆæ¯äºº2å¼ ï¼‰
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆæ¯äºº2å¼ ã€æ•°é‡ã€å”¯ä¸€æ€§ã€é¡ºåºï¼‰
  
- [ ] `dealCommunityCards()` - å‘å…¬å…±ç‰Œï¼ˆçƒ§ç‰Œ+å‘ç‰Œï¼‰
  - æµ‹è¯•: ~5ä¸ªæµ‹è¯•ï¼ˆç¿»ç‰Œ3å¼ ã€è½¬ç‰Œ1å¼ ã€æ²³ç‰Œ1å¼ ã€çƒ§ç‰Œã€è¾¹ç•Œï¼‰

##### 3.3 ç‰Œå‹è¯„ä¼° (3 ä¸ªæ ¸å¿ƒæ–¹æ³•)
- [ ] `evaluateHand()` - 7é€‰5æœ€ä½³ç»„åˆï¼ˆ21ç§ç»„åˆï¼‰
  - æµ‹è¯•: ~3ä¸ªæµ‹è¯•ï¼ˆ7å¼ ç‰Œè¾“å…¥ã€æœ€ä½³5å¼ ã€ç»„åˆéªŒè¯ï¼‰

- [x] `evaluateFiveCards()` - 5å¼ ç‰Œç‰Œå‹è¯†åˆ«ï¼ˆåŸºç¡€æ¡†æ¶ï¼‰
  - å·²å®ç°åŸºç¡€æ¡†æ¶ï¼šæ’åºã€è¯„åˆ†ã€è¿”å› EvaluatedHand
   - æµ‹è¯•: ~11ä¸ªæµ‹è¯•ï¼ˆ10ç§ç‰Œå‹ + è½®ç›˜é¡ºï¼‰
     - [x] é«˜ç‰Œï¼ˆåŸºç¡€æµ‹è¯•é€šè¿‡ï¼‰
     - [x] é¡ºå­ï¼ˆå«è½®ç›˜é¡º A-2-3-4-5ï¼‰
     - [x] åŒèŠ±
     - [x] åŒèŠ±é¡º
     - [ ] çš‡å®¶åŒèŠ±é¡º
     - [ ] å››æ¡
     - [ ] è‘«èŠ¦
     - [ ] ä¸‰æ¡
     - [ ] ä¸¤å¯¹
     - [ ] ä¸€å¯¹

- [x] `compareHands()` - ä¸¤æ‰‹ç‰Œæ¯”è¾ƒï¼ˆåŸºç¡€æ¡†æ¶ï¼‰
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆä¸åŒç‰Œå‹ã€åŒç‰Œå‹è¸¢è„šã€å¹³å±€ã€å¤æ‚æ¯”è¾ƒï¼‰

##### 3.4 è¾…åŠ©è¯„ä¼°æ–¹æ³• (4 ä¸ªç§æœ‰æ–¹æ³•)
- [ ] `isFlush()` - åŒèŠ±æ£€æµ‹
  - æµ‹è¯•: ~2ä¸ªæµ‹è¯•
  
- [ ] `getStraight()` - é¡ºå­æ£€æµ‹ï¼ˆå«è½®ç›˜é¡ºï¼‰
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆæ™®é€šé¡ºå­ã€è½®ç›˜é¡ºã€éé¡ºå­ã€è¿ç»­ï¼‰
  
- [ ] `getGroups()` - ç‰Œé¢åˆ†ç»„åˆ†æ
  - æµ‹è¯•: ~4ä¸ªæµ‹è¯•ï¼ˆå››æ¡ã€è‘«èŠ¦ã€ä¸¤å¯¹ã€æ— åˆ†ç»„ï¼‰
  
- [ ] `calculateScore()` - ç»¼åˆå¾—åˆ†è®¡ç®—
  - æµ‹è¯•: ~1ä¸ªæµ‹è¯•

##### 3.5 ç»„åˆç®—æ³• (1 ä¸ªç§æœ‰æ–¹æ³•)
- [ ] `getCombinations()` - C(n,k) ç»„åˆç®—æ³•
  - æµ‹è¯•: ~3ä¸ªæµ‹è¯•ï¼ˆC(7,5)=21ã€å”¯ä¸€æ€§ã€è¾¹ç•Œï¼‰

---

#### ğŸ“¦ æ¨¡å—å››ï¼šè¾¹æ± è®¡ç®—ç®—æ³• (2 ä¸ªæ–¹æ³•)

##### 4.1 SidePotCalculator.java
- [ ] `calculateSidePots()` - æ ¸å¿ƒè¾¹æ± ç®—æ³•
  - ç®—æ³•: æŒ‰ç©å®¶æ€»æŠ•å…¥é¢æ’åº â†’ é€å±‚åˆ‡å‰² â†’ å¼ƒç‰Œç©å®¶æ’é™¤
  - æµ‹è¯•: ~7ä¸ªæµ‹è¯•ï¼ˆç®€å•è¾¹æ± ã€å¤šè¾¹æ± ã€å¼ƒç‰Œæ’é™¤ã€æ— è¾¹æ± ã€å…¨All-Inã€é¡ºåºã€é‡‘é¢ï¼‰
  
- [x] `awardPots()` - åº•æ± åˆ†é…
  - è§„åˆ™: å•äººè·èƒœã€å¤šäººå¹³åˆ†ã€ä½™æ•°ç»™é å‰ç©å®¶
  - æµ‹è¯•: 4ä¸ªæµ‹è¯•ï¼ˆå•äººã€2äººå¹³ã€å¤šäººå¹³ã€ä½™æ•°ã€å¤šæ± ã€èµ„æ ¼ï¼‰

---

#### ğŸ”´ P0 æ•´æ”¹ä»»åŠ¡ï¼šå®ç°å¹¶å‘æµ‹è¯• (8å°æ—¶)

- [ ] **ç¼–å†™å¹¶å‘æµ‹è¯•** (P0-2)
  - [ ] å¤šçº¿ç¨‹ç«äº‰æµ‹è¯•ï¼ˆå¤šä¸ªç©å®¶åŒæ—¶æ“ä½œï¼‰
  - [ ] æ­»é”æµ‹è¯•ï¼ˆéªŒè¯é”è¶…æ—¶æœºåˆ¶ï¼‰
  - [ ] å‹åŠ›æµ‹è¯•ï¼ˆä½¿ç”¨JMeteræˆ–Gatlingï¼‰
  - [ ] è¾“å‡º: `server/src/test/java/com/pocketholdem/concurrency/`
  - [ ] éªŒæ”¶: æ— ç«æ€æ¡ä»¶ã€æ— æ­»é”ã€æ€§èƒ½æ»¡è¶³é¢„æœŸ

---

### æµ‹è¯•è¦†ç›–ç›®æ ‡

| æ¨¡å— | ç›®æ ‡è¦†ç›–ç‡ | æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•æ–¹æ³•æ•° |
|------|-----------|---------|-----------|
| æšä¸¾ç±»å‹ | 100% | 5ä¸ªæµ‹è¯•ç±» | ~15ä¸ª |
| æ•°æ®ç»“æ„ | 100% | 3ä¸ªæµ‹è¯•ç±» | ~12ä¸ª |
| PokerEngine | >85% | 1ä¸ªæµ‹è¯•ç±» (4ä¸ªå†…éƒ¨ç±») | ~60ä¸ª |
| SidePotCalculator | >80% | 1ä¸ªæµ‹è¯•ç±» (2ä¸ªå†…éƒ¨ç±») | ~15ä¸ª |
| å¹¶å‘æµ‹è¯• | - | å¹¶å‘æµ‹è¯•ç›®å½• | ~10ä¸ª |
| **æ€»è®¡** | **>80%** | **11ä¸ªæµ‹è¯•ç±»** | **~112ä¸ª** |

### å‚è€ƒæ–‡ä»¶
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/PokerEngine.ts` (665è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/Interfaces.ts` (305è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/poker.test.ts` (460è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/poker.showdown.test.ts` (582è¡Œ)

### éªŒæ”¶æ ‡å‡†
- [ ] æ‰€æœ‰10ç§ç‰Œå‹æ­£ç¡®è¯†åˆ«
- [ ] è½®ç›˜é¡º(A2345)æ­£ç¡®å¤„ç†
- [ ] è¾¹æ± ç®—æ³•æ”¯æŒä»»æ„æ•°é‡All-In
- [ ] åº•æ± åˆ†é…å¹³åˆ†è§„åˆ™æ­£ç¡®
- [ ] å¼ƒç‰Œç©å®¶è¾¹æ± èµ„æ ¼æ­£ç¡®æ’é™¤
- [ ] è¿è¡Œ `./mvnw test` å…¨éƒ¨é€šè¿‡
- [ ] è¿è¡Œ `./mvnw jacoco:report` ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- [ ] PokerEngine.java è¦†ç›–ç‡ >85%
- [ ] **ğŸ”´ P0**: å¹¶å‘æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ˆæ— ç«æ€ã€æ— æ­»é”ï¼‰

---

## ğŸ“… é˜¶æ®µäºŒï¼šçŠ¶æ€ç®¡ç†ä¸å¹¶å‘æ§åˆ¶ (ğŸŸ¡ P1)

**ç›®æ ‡**: å®ç°æˆ¿é—´ç®¡ç†å’Œå®‰å…¨çš„å¹¶å‘è¯»å†™ã€‚

**ä¼˜å…ˆçº§**: ğŸŸ¡ P1ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 2å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µä¸€å®Œæˆ

**é£é™©é¡¹**: 
- ğŸŸ¡ P1-1: æŸ¥è¯¢æ–¹æ³•é”ç²’åº¦è¿‡å¤§
- ğŸŸ¡ P1-2: æŸ¥è¯¢æ–¹æ³•å»é”åŒ–

### å®æ–½åŸåˆ™
1. **çº¿ç¨‹å®‰å…¨ä¼˜å…ˆ**: æ‰€æœ‰å…±äº«çŠ¶æ€ä½¿ç”¨é”æˆ–å¹¶å‘é›†åˆ
2. **é˜²å¾¡æ€§æ‹·è´**: è¿”å›é›†åˆæ—¶è¿›è¡Œæ‹·è´ï¼Œé˜²æ­¢å¤–éƒ¨ä¿®æ”¹
3. **ä½¿ç”¨ Maven Wrapper**: `./mvnw` è€Œé `mvn`
4. **çŠ¶æ€ç‰ˆæœ¬åŒ–**: æ¯æ¬¡çŠ¶æ€å˜æ›´é€’å¢ `stateVersion`
5. **å‚è€ƒåŸä»£ç **: ä¸¥æ ¼å¯¹ç…§ TypeScript å®ç°é€»è¾‘

### å¾…å®æ–½ä»»åŠ¡

#### ğŸ“¦ æ¨¡å—ä¸€ï¼šPlayer - ç©å®¶çŠ¶æ€å°è£…
- [ ] **Player.java**
  - å­—æ®µ: id, nickname, chips, status, seatIndex, isHost, holeCards, isReady
  - æ–¹æ³•: addChips(), deductChips(), setStatus(), clearHoleCards()
  - DTO: toPublicDTO() (æ— æ‰‹ç‰Œ), toPrivateDTO() (æœ‰æ‰‹ç‰Œ)
  - æµ‹è¯•: PlayerTest.java (~8ä¸ªæµ‹è¯•)

#### ğŸ“¦ æ¨¡å—äºŒï¼šGameState - æ¸¸æˆçŠ¶æ€
- [ ] **GameState.java**
  - å­—æ®µ: stateVersion, handId, roundIndex, phase, communityCards, pots, dealerIndex, etc.
  - æ–¹æ³•: incrementStateVersion(), advancePhase(), resetForNewHand()
  - é˜²å¾¡æ€§æ‹·è´: getCommunityCards(), getPots(), getCurrentBets()
  - æµ‹è¯•: GameStateTest.java (~8ä¸ªæµ‹è¯•)

#### ğŸ“¦ æ¨¡å—ä¸‰ï¼šRoom - æˆ¿é—´çŠ¶æ€ç®¡ç† (ReentrantLock ä¿æŠ¤)

##### 3.1 åŸºç¡€å®ç°
- [ ] **Room.java**
  - é”æœºåˆ¶: ReentrantLock ä¿è¯å•æˆ¿é—´ä¸²è¡Œ
  
  **ç©å®¶ç®¡ç†**:
  - [ ] `addPlayer()` - æ·»åŠ ç©å®¶
  - [ ] `removePlayer()` - ç§»é™¤ç©å®¶ï¼ˆå«æˆ¿ä¸»è½¬ç§»ï¼‰
  - [ ] `transferHost()` - è½¬ç§»æˆ¿ä¸»
  
  **åº§ä½ç®¡ç†**:
  - [ ] `sitDown()` - ç©å®¶å…¥åº§
  - [ ] `standUp()` - ç©å®¶ç«™èµ·
  - [ ] `kickPlayer()` - è¸¢å‡ºç©å®¶ï¼ˆæˆ¿ä¸»æƒé™ï¼‰
  
  **æ¸¸æˆæ§åˆ¶**:
  - [ ] `startGame()` - å¼€å§‹æ¸¸æˆï¼ˆæˆ¿ä¸»æƒé™ï¼Œè‡³å°‘2äººå…¥åº§ï¼‰
  - [ ] `initializeGameState()` - åˆå§‹åŒ–æ¸¸æˆçŠ¶æ€
  - [ ] `determineInitialDealer()` - ç¡®å®šåˆå§‹åº„å®¶
  
  **æŸ¥è¯¢æ–¹æ³•**:
  - [ ] `getSeatedPlayers()` - è·å–å·²å…¥åº§ç©å®¶
  - [ ] `getActivePlayers()` - è·å–æ´»è·ƒç©å®¶ï¼ˆæœ‰ç­¹ç ä¸”æœªå¼ƒç‰Œï¼‰
  
  - æµ‹è¯•: RoomTest.java (~20ä¸ªæµ‹è¯•)

##### ğŸ”´ P0 æ•´æ”¹ä»»åŠ¡ï¼šä¿®å¤é”æ— è¶…æ—¶æœºåˆ¶ (2å°æ—¶) (P0-3)
- [ ] ä¸ºæ‰€æœ‰ `lock.lock()` æ·»åŠ è¶…æ—¶å‚æ•° (`tryLock(5, TimeUnit.SECONDS)`)
- [ ] è¶…æ—¶åæŠ›å‡ºæ˜ç¡®å¼‚å¸¸ï¼Œè®°å½•æ—¥å¿—
- [ ] é¿å…åœ¨é”å†…è°ƒç”¨å¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚WebSocketå¹¿æ’­ï¼‰

##### ğŸŸ¡ P1 æ•´æ”¹ä»»åŠ¡ï¼šå®ç°æŸ¥è¯¢æ–¹æ³•å»é”åŒ– (8å°æ—¶) (P1-2)
- [ ] ä½¿ç”¨ `CopyOnWriteArrayList` ç¼“å­˜ seated players å’Œ active players
- [ ] å†™æ“ä½œæ—¶åŒæ­¥æ›´æ–°ç¼“å­˜
- [ ] æŸ¥è¯¢æ“ä½œç›´æ¥è¿”å›ç¼“å­˜å‰¯æœ¬ï¼Œæ— éœ€åŠ é”
- [ ] ç¼–å†™æ€§èƒ½å¯¹æ¯”æµ‹è¯•
- [ ] éªŒæ”¶: æŸ¥è¯¢å»¶è¿Ÿé™ä½50%+

#### ğŸ“¦ æ¨¡å—å››ï¼šRoomManager - æˆ¿é—´ç®¡ç†å™¨ (ConcurrentHashMap)
- [ ] **RoomManager.java** (å•ä¾‹æ¨¡å¼)
  - å­˜å‚¨: ConcurrentHashMap<String, Room>, ConcurrentHashMap<String, String>
  
  - [ ] `createRoom()` - åˆ›å»ºæˆ¿é—´ï¼ˆ6ä½æ•°å­—æˆ¿é—´å·ï¼‰
  - [ ] `destroyRoom()` - é”€æ¯æˆ¿é—´åŠæ¸…ç†æ˜ å°„
  - [ ] `generateRoomId()` - å”¯ä¸€æˆ¿é—´å·ç”Ÿæˆ
  - [ ] `joinRoom()` - ç©å®¶åŠ å…¥
  - [ ] `leaveRoom()` - ç©å®¶ç¦»å¼€ï¼ˆç©ºæˆ¿é—´è‡ªåŠ¨é”€æ¯ï¼‰
  - [ ] `getRoomByPlayerId()` - æ ¹æ®ç©å®¶IDè·å–æˆ¿é—´
  - [ ] `getRoomById()` - æ ¹æ®æˆ¿é—´IDè·å–æˆ¿é—´
  
  - æµ‹è¯•: RoomManagerTest.java (~9ä¸ªæµ‹è¯•)

#### ğŸ“¦ æ¨¡å—äº”ï¼šGameController - æ¸¸æˆçŠ¶æ€æœº
- [ ] **GameController.java**
  - å¹‚ç­‰å»é‡: LinkedHashMap<String, String> (LRU, æœ€å¤š1000ä¸ª)
  
  **æ“ä½œå¤„ç†**:
  - [ ] `processAction()` - æ ¸å¿ƒæ“ä½œå¤„ç†ï¼ˆå¹‚ç­‰æ ¡éªŒï¼‰
    - requestId å»é‡
    - roundIndex éªŒè¯
    - å½“å‰ç©å®¶æ£€æŸ¥
    - çŠ¶æ€éªŒè¯
  
  **æ“ä½œæ‰§è¡Œ**:
  - [ ] `executeFold()` - æ‰§è¡Œå¼ƒç‰Œ
  - [ ] `executeCheck()` - æ‰§è¡Œè¿‡ç‰Œ
  - [ ] `executeCall()` - æ‰§è¡Œè·Ÿæ³¨
  - [ ] `executeRaise()` - æ‰§è¡ŒåŠ æ³¨
  - [ ] `executeAllIn()` - æ‰§è¡Œå…¨æŠ¼
  
  **æµç¨‹æ§åˆ¶**:
  - [ ] `startNewHand()` - å¼€å§‹æ–°ä¸€æ‰‹ç‰Œ
    - æ´—ç‰Œ
    - ç§»åŠ¨åº„å®¶
    - è®¾ç½®ç›²æ³¨
    - å‘åº•ç‰Œ
    - æ”¶å–ç›²æ³¨
  - [ ] `advancePhaseOrShowdown()` - é˜¶æ®µæ¨è¿›
  - [ ] `dealFlop()` - å‘ç¿»ç‰Œ
  - [ ] `dealTurn()` - å‘è½¬ç‰Œ
  - [ ] `dealRiver()` - å‘æ²³ç‰Œ
  - [ ] `showdown()` - æ‘Šç‰Œç»“ç®—
    - è¯„ä¼°æ‰‹ç‰Œ
    - æ¯”è¾ƒç‰Œå‹
    - è®¡ç®—è¾¹æ± 
    - åˆ†é…åº•æ± 
  
  - æµ‹è¯•: GameControllerTest.java (~18ä¸ªæµ‹è¯•)

---

#### ğŸŸ¢ P2 æ•´æ”¹ä»»åŠ¡ï¼šè®¾è®¡åˆ†å¸ƒå¼é”æ‰©å±•æ¥å£ (4å°æ—¶)

- [ ] å®šä¹‰ `LockProvider` æ¥å£
- [ ] å®ç°æœ¬åœ°é”æä¾›è€…ï¼ˆ`LocalLockProvider`ï¼‰
- [ ] ç¼–å†™æ‰©å±•æ–‡æ¡£ï¼ˆè¯´æ˜å¦‚ä½•åˆ‡æ¢ä¸ºåˆ†å¸ƒå¼é”ï¼‰
- [ ] è¾“å‡º: `docs/lock-extension-guide.md`

---

### æµ‹è¯•è¦†ç›–ç›®æ ‡

| æ¨¡å— | ç›®æ ‡è¦†ç›–ç‡ | æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•æ–¹æ³•æ•° |
|------|-----------|---------|-----------|
| Player | 100% | 1ä¸ªæµ‹è¯•ç±» | ~8ä¸ª |
| GameState | 100% | 1ä¸ªæµ‹è¯•ç±» | ~8ä¸ª |
| Room | >90% | 1ä¸ªæµ‹è¯•ç±» (4ä¸ªå†…éƒ¨ç±») | ~20ä¸ª |
| RoomManager | 100% | 1ä¸ªæµ‹è¯•ç±» | ~9ä¸ª |
| GameController | >85% | 1ä¸ªæµ‹è¯•ç±» (3ä¸ªå†…éƒ¨ç±») | ~18ä¸ª |
| **æ€»è®¡** | **>90%** | **5ä¸ªæµ‹è¯•ç±»** | **~63ä¸ª** |

### å‚è€ƒæ–‡ä»¶
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/Player.ts` (290è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/RoomManager.ts` (719è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/GameController.ts` (861è¡Œ)

### éªŒæ”¶æ ‡å‡†
- [ ] ç©å®¶å…¥åº§/ç«™èµ·/è¸¢å‡ºåŠŸèƒ½æ­£ç¡®
- [ ] æˆ¿ä¸»è½¬ç§»é€»è¾‘æ­£ç¡®
- [ ] å¼€å§‹æ¸¸æˆæƒé™éªŒè¯æ­£ç¡®
- [ ] å¹‚ç­‰æ€§å»é‡æœºåˆ¶æœ‰æ•ˆ
- [ ] ç‰ˆæœ¬æ ¡éªŒæœºåˆ¶æœ‰æ•ˆ
- [ ] æ¸¸æˆæµç¨‹ï¼ˆå‘ç‰Œã€ä¸‹æ³¨ã€æ‘Šç‰Œï¼‰æ­£ç¡®
- [ ] **ğŸ”´ P0**: æ‰€æœ‰å…±äº«æ“ä½œä½¿ç”¨ ReentrantLock ä¿æŠ¤ï¼Œé”æœ‰è¶…æ—¶æœºåˆ¶
- [ ] **ğŸŸ¡ P1**: æŸ¥è¯¢æ–¹æ³•å»é”åŒ–ï¼Œæ€§èƒ½æå‡50%+
- [ ] è¿è¡Œ `./mvnw test` å…¨éƒ¨é€šè¿‡
- [ ] ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šè¾¾æ ‡

---

## ğŸ“… é˜¶æ®µä¸‰ï¼šWebSocket ç½‘ç»œå±‚æ¥å…¥ (ğŸŸ¡ P1)

**ç›®æ ‡**: è¿é€šå‰ç«¯ï¼Œæ›¿æ¢ Node.js åç«¯ã€‚

**ä¼˜å…ˆçº§**: ğŸŸ¡ P1ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 3-4å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µäºŒå®Œæˆ

**é£é™©é¡¹**: 
- ğŸŸ¡ P1-3: STOMPè‡ªåŠ¨é‡è¿æœºåˆ¶ç¼ºå¤±
- ğŸŸ¡ P1-4: JSONåºåˆ—åŒ–å…¨å±€é…ç½®ç¼ºå¤±

### å¾…å®æ–½ä»»åŠ¡

#### ğŸ”´ P0 æ•´æ”¹ä»»åŠ¡ï¼šå®ç°DTOä½“ç³» (8å°æ—¶) (P0-1)

- [ ] æŒ‰ç…§é˜¶æ®µ0.2çš„å®šä¹‰ï¼Œå®ç°æ‰€æœ‰DTOç±»
- [ ] é…ç½®Jacksonå…¨å±€è®¾ç½®
- [ ] å®ç°å…¨å±€å¼‚å¸¸å¤„ç†å™¨
- [ ] ç¼–å†™DTOåºåˆ—åŒ–/ååºåˆ—åŒ–æµ‹è¯•
- [ ] è¾“å‡º:
  - `server/src/main/java/com/pocketholdem/dto/`
  - `server/src/main/java/com/pocketholdem/config/JacksonConfig.java`
  - `server/src/main/java/com/pocketholdem/exception/GlobalExceptionHandler.java`

#### ğŸ“¦ æ¨¡å—ä¸€ï¼šWebSocket é…ç½® (2å°æ—¶)
- [ ] é…ç½® WebSocketConfig.java (STOMP ç«¯ç‚¹)
  - [ ] é…ç½® `/ws` WebSocket ç«¯ç‚¹
  - [ ] é…ç½® `/topic/room/{roomId}` å¹¿æ’­ç«¯ç‚¹
  - [ ] é…ç½® `/user/queue/private` ç§å‘ç«¯ç‚¹
  - [ ] é…ç½® `/app/action` å’Œ `/app/join` æ¶ˆæ¯ç«¯ç‚¹
  - [ ] é…ç½® CORS å…è®¸è·¨åŸŸ

#### ğŸŸ¡ P1 æ•´æ”¹ä»»åŠ¡ï¼šé…ç½®JSONåºåˆ—åŒ–å…¨å±€é…ç½® (4å°æ—¶) (P1-4)

- [ ] é…ç½® Jackson å…¨å±€è®¾ç½®
  - [ ] `FAIL_ON_UNKNOWN_PROPERTIES = false`ï¼ˆå®¹é”™å¤„ç†ï¼‰
  - [ ] `WRITE_DATES_AS_TIMESTAMPS = false`ï¼ˆISOæ ¼å¼æ—¶é—´ï¼‰
  - [ ] `INDENT_OUTPUT = true`ï¼ˆå¼€å‘ç¯å¢ƒï¼Œä¾¿äºè°ƒè¯•ï¼‰
- [ ] å®ç° `@ControllerAdvice` å…¨å±€å¼‚å¸¸å¤„ç†å™¨
- [ ] å®šä¹‰ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼ï¼ˆ`ErrorResponse`ï¼‰
- [ ] é…ç½®å­—æ®µåæ˜ å°„ç­–ç•¥ï¼ˆSNAKE_CASE â†” CAMEL_CASEï¼‰

#### ğŸ“¦ æ¨¡å—äºŒï¼šGameMessageController (4å°æ—¶)
- [ ] å®ç° GameMessageController.java (@MessageMapping)
  - [ ] `createRoom()` - åˆ›å»ºæˆ¿é—´å¤„ç†
  - [ ] `joinRoom()` - åŠ å…¥æˆ¿é—´å¤„ç†
  - [ ] `playerAction()` - ç©å®¶æ“ä½œå¤„ç†ï¼ˆè°ƒç”¨ GameControllerï¼‰
  - [ ] `leaveRoom()` - ç¦»å¼€æˆ¿é—´å¤„ç†
  - [ ] `reconnect()` - æ–­çº¿é‡è¿å¤„ç†

#### ğŸ“¦ æ¨¡å—ä¸‰ï¼šå¹¿æ’­å’Œç§å‘æœºåˆ¶ (4å°æ—¶)
- [ ] å®ç°å¹¿æ’­æœºåˆ¶ (SimpMessagingTemplate)
  - [ ] `broadcastRoomState()` - å¹¿æ’­æˆ¿é—´çŠ¶æ€
  - [ ] `broadcastPlayerAction()` - å¹¿æ’­ç©å®¶æ“ä½œ
  - [ ] `broadcastHandResult()` - å¹¿æ’­æ‰‹ç‰Œç»“æœ
  
- [ ] å®ç°ç§å‘æœºåˆ¶ (convertAndSendToUser)
  - [ ] `sendPrivateCards()` - å‘é€ç§å¯†æ‰‹ç‰Œ
  - [ ] `sendError()` - å‘é€é”™è¯¯æ¶ˆæ¯

#### ğŸ“¦ æ¨¡å—å››ï¼šSession ç®¡ç† (4å°æ—¶)
- [ ] åˆ›å»º `WebSocketSessionManager`
  - [ ] ç»´æŠ¤ `sessionId â†” roomId â†” playerId` ä¸‰é‡æ˜ å°„
  - [ ] å®ç° `broadcastToRoom(roomId, message)` æ–¹æ³•
  - [ ] å®ç°æ–­çº¿æ—¶æ¸…ç† Session æ˜ å°„

#### ğŸŸ¡ P1 æ•´æ”¹ä»»åŠ¡ï¼šå®ç°STOMPè‡ªåŠ¨é‡è¿æœºåˆ¶ (12å°æ—¶) (P1-3)

**åç«¯éƒ¨åˆ†** (6å°æ—¶):
- [ ] é…ç½® STOMP ä¸º `ack: client` æ¨¡å¼
- [ ] ç»´æŠ¤æœªç¡®è®¤æ¶ˆæ¯é˜Ÿåˆ—
- [ ] è¶…æ—¶é‡å‘æœºåˆ¶
- [ ] è®°å½•é‡è¿æ—¥å¿—

**å‰ç«¯éƒ¨åˆ†** (6å°æ—¶ï¼Œéœ€ä¸é˜¶æ®µäº”é…åˆ):
- [ ] å°è£… STOMP è¿æ¥ç®¡ç†å™¨
- [ ] å®ç°æŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥ï¼ˆåˆå§‹1sï¼Œæœ€å¤§30sï¼‰
- [ ] é‡è¿æˆåŠŸåå‘é€ `RECONNECT` æ¶ˆæ¯æ¢å¤æ¸¸æˆçŠ¶æ€

#### ğŸ“¦ æ¨¡å—äº”ï¼šè¶…æ—¶å¤„ç† (2å°æ—¶)
- [ ] å®ç°è¶…æ—¶å¤„ç† (ScheduledExecutorService)
  - [ ] `startActionTimer()` - å¯åŠ¨30ç§’å€’è®¡æ—¶
  - [ ] `handleTimeout()` - è¶…æ—¶è‡ªåŠ¨å¤„ç†ï¼ˆå¼ƒç‰Œæˆ–è¿‡ç‰Œï¼‰
  - [ ] `clearActionTimer()` - æ¸…é™¤è®¡æ—¶å™¨

### å‚è€ƒæ–‡ä»¶
- `/Users/Hana/Codes/pocket-holdem-mvp/server/src/index.ts` (745è¡Œ)
- `docs/websocket-protocol.md` (486è¡Œ)

### éªŒæ”¶æ ‡å‡†
- [ ] **ğŸ”´ P0**: DTO ä½“ç³»å®Œæ•´ï¼ŒJSON åºåˆ—åŒ–æ­£ç¡®
- [ ] STOMP åè®®å…¼å®¹åŸå®¢æˆ·ç«¯
- [ ] å¹¿æ’­æ¶ˆæ¯æ­£ç¡®é€è¾¾æ‰€æœ‰æˆ¿é—´æˆå‘˜
- [ ] ç§å‘æ¶ˆæ¯æ­£ç¡®é€è¾¾æŒ‡å®šç©å®¶
- [ ] **ğŸŸ¡ P1**: 30ç§’è¶…æ—¶æœºåˆ¶æ­£å¸¸å·¥ä½œ
- [ ] **ğŸŸ¡ P1**: æ–­çº¿é‡è¿çŠ¶æ€æ­£ç¡®æ¢å¤
- [ ] **ğŸŸ¡ P1**: JSON å…¨å±€é…ç½®æ­£ç¡®ï¼Œå¼‚å¸¸å¤„ç†ç»Ÿä¸€

---

## ğŸ“… é˜¶æ®µå››ï¼šæµ‹è¯•ä¸ä¼˜åŒ– (ğŸŸ¢ P2)

**ç›®æ ‡**: è¡¥å……é›†æˆæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§å’Œæ€§èƒ½ã€‚

**ä¼˜å…ˆçº§**: ğŸŸ¢ P2ï¼ˆå»ºè®®ä¼˜åŒ–ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 2å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µä¸‰å®Œæˆ

### å¾…å®æ–½ä»»åŠ¡

#### ğŸ“¦ ä»»åŠ¡ä¸€ï¼šç¼–å†™é›†æˆæµ‹è¯• (8å°æ—¶)

- [ ] ç¼–å†™ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•
  - [ ] åˆ›å»ºæˆ¿é—´â†’åŠ å…¥â†’å…¥åº§â†’å¼€å§‹â†’å®Œæ•´ä¸€æ‰‹ç‰Œ
  - [ ] æ–­çº¿é‡è¿é›†æˆæµ‹è¯•
  - [ ] å¤šæˆ¿é—´å¹¶å‘æµ‹è¯•
- [ ] è¾“å‡º: `server/src/test/java/com/pocketholdem/integration/`
- [ ] éªŒæ”¶: æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡ï¼Œç«¯åˆ°ç«¯æµç¨‹æ­£å¸¸

#### ğŸŸ¢ P2 æ•´æ”¹ä»»åŠ¡ï¼šæ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ– (8å°æ—¶)

- [ ] ä½¿ç”¨ JMeter/Gatling è¿›è¡Œå‹åŠ›æµ‹è¯•
  - [ ] æ¨¡æ‹Ÿ 100 ä¸ªæˆ¿é—´å¹¶å‘æ“ä½œ
  - [ ] æ¨¡æ‹Ÿ 1000 ä¸ªå¹¶å‘ WebSocket è¿æ¥
- [ ] åˆ†ææ€§èƒ½ç“¶é¢ˆ
- [ ] ä¼˜åŒ–çƒ­ç‚¹ä»£ç 
- [ ] è¾“å‡º: æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
- [ ] éªŒæ”¶:
  - [ ] 100 ä¸ªæˆ¿é—´å¹¶å‘æ“ä½œç¨³å®š
  - [ ] å“åº”æ—¶é—´ <100ms (P99)
  - [ ] æ— å†…å­˜æ³„æ¼

### å‚è€ƒæ–‡ä»¶
- JMeter æ€§èƒ½æµ‹è¯•æŒ‡å—
- Gatling æ€§èƒ½æµ‹è¯•æ¡†æ¶æ–‡æ¡£

### éªŒæ”¶æ ‡å‡†
- [ ] æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡ï¼ˆ100æˆ¿é—´å¹¶å‘ï¼Œå“åº”<100ms P99ï¼‰
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] æ€§èƒ½ä¼˜åŒ–è®°å½•å®Œæ•´

---

## ğŸ“… é˜¶æ®µäº”ï¼šUniApp å‰ç«¯é‡æ„ (ğŸŸ¡ P1)

**ç›®æ ‡**: ä½¿ç”¨ UniApp é‡å†™å‰ç«¯ï¼Œæ”¯æŒ H5 å’Œå¾®ä¿¡å°ç¨‹åºã€‚

**ä¼˜å…ˆçº§**: ğŸŸ¡ P1ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 3å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µä¸‰å®Œæˆï¼ˆWebSocketåç«¯ï¼‰

### å¾…å®æ–½ä»»åŠ¡

- [ ] åˆå§‹åŒ– UniApp + Vue 3 + TypeScript é¡¹ç›®
  - [ ] é…ç½® Vite + TypeScript
  - [ ] é…ç½® Wot-Design-Uni UI ç»„ä»¶åº“
  - [ ] é…ç½® Pinia çŠ¶æ€ç®¡ç†
  
- [ ] å°è£… useStomp.ts (å…¼å®¹ H5 å’Œå°ç¨‹åº)
  - [ ] STOMP over WebSocket å®ç°
  - [ ] å°ç¨‹åº WebSocketAdapter å°è£…
  - [ ] **ğŸŸ¡ P1**: è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼ˆä¸é˜¶æ®µä¸‰P1-3é…åˆï¼‰
  - [ ] æ¶ˆæ¯é˜Ÿåˆ—ç¼“å†²
  
- [ ] å®ç°é¦–é¡µ (åˆ›å»º/åŠ å…¥æˆ¿é—´)
  - [ ] åˆ›å»ºæˆ¿é—´è¡¨å•
  - [ ] åŠ å…¥æˆ¿é—´è¡¨å•
  - [ ] æˆ¿é—´å·è¾“å…¥
  
- [ ] å®ç°æˆ¿é—´é¡µ (åº§ä½ã€å‡†å¤‡)
  - [ ] 6-9äººåº§ä½å¸ƒå±€
  - [ ] ç©å®¶ä¿¡æ¯æ˜¾ç¤º
  - [ ] å‡†å¤‡æŒ‰é’®
  - [ ] æˆ¿ä¸»æ§åˆ¶
  
- [ ] å®ç°æ¸¸æˆé¡µ (ç‰Œæ¡Œã€æ‰‹ç‰Œã€æ“ä½œé¢æ¿)
  - [ ] å…¬å…±ç‰Œæ˜¾ç¤º
  - [ ] æ‰‹ç‰Œæ˜¾ç¤º
  - [ ] åº•æ± æ˜¾ç¤º
  - [ ] æ“ä½œæŒ‰é’® (Fold/Check/Call/Raise/AllIn)
  - [ ] åŠ æ³¨è¾“å…¥æ¡†
  - [ ] ç©å®¶çŠ¶æ€æŒ‡ç¤º
  
- [ ] å®ç° Showdown ç»“ç®—å¼¹çª—
  - [ ] è·èƒœè€…é«˜äº®
  - [ ] ç‰Œå‹æ˜¾ç¤º
  - [ ] åº•æ± åˆ†é…è¯¦æƒ…
  
- [ ] å®ç°å€’è®¡æ—¶ UI
  - [ ] 30ç§’è¿›åº¦æ¡
  - [ ] è¶…æ—¶æç¤º
  
- [ ] å¯¹æ¥åç«¯ STOMP æ¥å£
  - [ ] è®¢é˜…æˆ¿é—´çŠ¶æ€
  - [ ] è®¢é˜…ç§å¯†æ¶ˆæ¯
  - [ ] å‘é€ç©å®¶æ“ä½œ
  - [ ] é”™è¯¯å¤„ç†

### å‚è€ƒæ–‡ä»¶
- `/Users/Hana/Codes/pocket-holdem-mvp/client/src/App.vue`
- `/Users/Hana/Codes/pocket-holdem-mvp/client/src/composables/useSocket.ts` (466è¡Œ)
- `/Users/Hana/Codes/pocket-holdem-mvp/client/src/gameStore.ts` (202è¡Œ)

### éªŒæ”¶æ ‡å‡†
- [ ] H5 ç¯å¢ƒæ­£å¸¸å·¥ä½œ
- [ ] å¾®ä¿¡å°ç¨‹åºæ­£å¸¸å·¥ä½œ
- [ ] å®æ—¶çŠ¶æ€åŒæ­¥æ— å»¶è¿Ÿ
- [ ] **ğŸŸ¡ P1**: æ–­çº¿é‡è¿ä½“éªŒè‰¯å¥½

---

## ğŸ“… é˜¶æ®µå…­ï¼šä¼˜åŒ–ä¸å‘å¸ƒ (ğŸŸ¢ P2)

**ç›®æ ‡**: è¾¾åˆ° MVP äº¤ä»˜æ ‡å‡†ã€‚

**ä¼˜å…ˆçº§**: ğŸŸ¢ P2ï¼ˆå»ºè®®ä¼˜åŒ–ï¼‰

**é¢„ä¼°å·¥ä½œé‡**: 2å¤©

**å‰ç½®ä¾èµ–**: é˜¶æ®µå››ã€é˜¶æ®µäº”å®Œæˆ

### å¾…å®æ–½ä»»åŠ¡
- [ ] å…¨æµç¨‹æµ‹è¯•ï¼ˆä»å¼€æˆ¿åˆ°ç»“ç®—ï¼‰
  - [ ] å®Œæ•´æ¸¸æˆæµç¨‹æµ‹è¯•
  - [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•
  - [ ] å¼‚å¸¸æƒ…å†µæµ‹è¯•
  
- [ ] 6äººåŒæ—¶åœ¨çº¿å‹åŠ›æµ‹è¯•
  - [ ] å¹¶å‘æˆ¿é—´åˆ›å»º
  - [ ] å¹¶å‘ç©å®¶æ“ä½œ
  - [ ] æ€§èƒ½ç“¶é¢ˆåˆ†æ
  
- [ ] ä¼˜åŒ–æ–­çº¿é‡è¿ä½“éªŒ
  - [ ] å‡å°‘é‡è¿æ—¶é—´
  - [ ] ä¼˜åŒ–çŠ¶æ€æ¢å¤
  - [ ] æ·»åŠ é‡è¿æç¤º
  
- [ ] å¾®ä¿¡å°ç¨‹åºçœŸæœºæµ‹è¯•
  - [ ] iOS è®¾å¤‡æµ‹è¯•
  - [ ] Android è®¾å¤‡æµ‹è¯•
  - [ ] ä¸åŒå±å¹•å°ºå¯¸é€‚é…
  
- [ ] éƒ¨ç½²åˆ°æœåŠ¡å™¨
  - [ ] åç«¯éƒ¨ç½²é…ç½®
  - [ ] å‰ç«¯æ‰“åŒ…ä¸Šä¼ 
  - [ ] åŸŸåé…ç½®
  
- [ ] ç¼–å†™ç”¨æˆ·ä½¿ç”¨æŒ‡å—
  - [ ] å¿«é€Ÿå¼€å§‹æ•™ç¨‹
  - [ ] åŠŸèƒ½è¯´æ˜æ–‡æ¡£
  - [ ] å¸¸è§é—®é¢˜è§£ç­”

### éªŒæ”¶æ ‡å‡†
- [ ] æ— ä¸¥é‡ Bug
- [ ] 6äººåŒæ—¶åœ¨çº¿ç¨³å®š
- [ ] å¾®ä¿¡å°ç¨‹åºå®¡æ ¸é€šè¿‡
- [ ] ç”¨æˆ·æ–‡æ¡£å®Œæ•´

---

## ğŸ“Š è¿›åº¦è¿½è¸ªï¼ˆæ•´æ”¹åï¼‰

| é˜¶æ®µ | çŠ¶æ€ | å®Œæˆåº¦ | é¢„ä¼°å·¥ä½œé‡ | ä¼˜å…ˆçº§ | P0/P1/P2 |
|------|------|--------|-----------|--------|----------|
| é˜¶æ®µ0ï¼šæ¶æ„è®¾è®¡ | â³ å¾…å¼€å§‹ | 0% | **2å¤©** | ğŸ”´ P0 | 3é¡¹P0 |
| é˜¶æ®µä¸€ï¼šæ ¸å¿ƒå¼•æ“ | â³ å¾…å¼€å§‹ | 5% | **3å¤©** | ğŸ”´ P0 | 1é¡¹P0 |
| é˜¶æ®µäºŒï¼šçŠ¶æ€ç®¡ç† | â³ å¾…å¼€å§‹ | 0% | **2å¤©** | ğŸŸ¡ P1 | 1é¡¹P1 |
| é˜¶æ®µä¸‰ï¼šWebSocketå±‚ | â³ å¾…å¼€å§‹ | 0% | **3-4å¤©** | ğŸŸ¡ P1 | 2é¡¹P1 |
| é˜¶æ®µå››ï¼šæµ‹è¯•ä¼˜åŒ– | â³ å¾…å¼€å§‹ | 0% | **2å¤©** | ğŸŸ¢ P2 | 2é¡¹P2 |
| é˜¶æ®µäº”ï¼šUniAppå‰ç«¯ | â³ å¾…å¼€å§‹ | 0% | **3å¤©** | ğŸŸ¡ P1 | - |
| é˜¶æ®µå…­ï¼šä¼˜åŒ–å‘å¸ƒ | â³ å¾…å¼€å§‹ | 0% | **2å¤©** | ğŸŸ¢ P2 | - |
| **æ€»è®¡** | **ğŸ”„ å¾…å¼€å§‹** | **1%** | **15-18å¤©** | - | **8é¡¹** |

---

## ğŸ“ æ–‡ä»¶ç»„ç»‡

```
.sisyphus/
â””â”€â”€ plans/                           # è¯¦ç»†å®æ–½è®¡åˆ’
    â”œâ”€â”€ phase0-architecture-design.md # é˜¶æ®µ0è¯¦ç»†è®¡åˆ’ï¼ˆæ¶æ„è®¾è®¡ï¼‰
    â”œâ”€â”€ phase1-core-engine.md         # é˜¶æ®µä¸€è¯¦ç»†è®¡åˆ’ (~102ä¸ªæµ‹è¯•)
    â””â”€â”€ phase2-state-management.md   # é˜¶æ®µäºŒè¯¦ç»†è®¡åˆ’ (~63ä¸ªæµ‹è¯•)

docs/
â”œâ”€â”€ PLAN.md                          # æœ¬æ–‡ä»¶ï¼ˆæ€»è§ˆè®¡åˆ’ï¼Œæ•´æ”¹åï¼‰
â”œâ”€â”€ concurrency-model.md             # å¹¶å‘æ¨¡å‹è®¾è®¡æ–‡æ¡£ï¼ˆé˜¶æ®µ0.1ï¼‰
â”œâ”€â”€ dto-design-spec.md               # DTOè®¾è®¡è§„èŒƒï¼ˆé˜¶æ®µ0.2ï¼‰
â”œâ”€â”€ numeric-spec.md                  # æ•°å€¼è®¡ç®—è§„èŒƒï¼ˆé˜¶æ®µ0.3ï¼‰
â”œâ”€â”€ stomp-adapter-design.md         # STOMPé€‚é…è®¾è®¡ï¼ˆé˜¶æ®µ0.4ï¼‰
â”œâ”€â”€ test-strategy.md                 # æµ‹è¯•ç­–ç•¥ï¼ˆé˜¶æ®µ0.5ï¼‰
â”œâ”€â”€ lock-extension-guide.md          # é”æ‰©å±•æŒ‡å—ï¼ˆé˜¶æ®µäºŒP2ï¼‰
â”œâ”€â”€ PRD.md                           # äº§å“éœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ architecture.md                  # æŠ€æœ¯æ¶æ„æ–‡æ¡£
â”œâ”€â”€ websocket-protocol.md            # WebSocket åè®®è§„èŒƒ
â””â”€â”€ CHANGELOG.md                     # å˜æ›´æ—¥å¿—

server/src/test/java/com/pocketholdem/
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ SuitTest.java
â”‚   â”œâ”€â”€ RankTest.java
â”‚   â”œâ”€â”€ GamePhaseTest.java
â”‚   â”œâ”€â”€ ActionTypeTest.java
â”‚   â”œâ”€â”€ PlayerStatusTest.java
â”‚   â”œâ”€â”€ CardTest.java
â”‚   â”œâ”€â”€ PotTest.java
â”‚   â”œâ”€â”€ PlayerTest.java
â”‚   â”œâ”€â”€ GameStateTest.java
â”‚   â””â”€â”€ RoomTest.java
â”œâ”€â”€ engine/
â”‚   â”œâ”€â”€ PokerEngineTest.java
â”‚   â””â”€â”€ SidePotCalculatorTest.java
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ RoomManagerTest.java
â”‚   â””â”€â”€ GameControllerTest.java
â”œâ”€â”€ dto/                             # æ–°å¢ï¼šDTOæµ‹è¯•
â”‚   â””â”€â”€ *DTOTest.java
â”œâ”€â”€ concurrency/                     # æ–°å¢ï¼šå¹¶å‘æµ‹è¯•
â”‚   â”œâ”€â”€ ConcurrentActionTest.java
â”‚   â”œâ”€â”€ DeadlockTest.java
â”‚   â””â”€â”€ StressTest.java
â””â”€â”€ integration/                     # æ–°å¢ï¼šé›†æˆæµ‹è¯•
    â”œâ”€â”€ EndToEndFlowTest.java
    â”œâ”€â”€ ReconnectTest.java
    â””â”€â”€ MultiRoomTest.java
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **è¯„å®¡è®¡åˆ’** - ä»”ç»†å®¡æŸ¥æœ¬è®¡åˆ’å’Œæ¶æ„æ•´æ”¹å»ºè®®
2. **ç¡®è®¤æ•´æ”¹é¡¹** - ç¡®è®¤P0/P1/P2æ•´æ”¹é¡¹çš„ä¼˜å…ˆçº§
3. **å¼€å§‹å®æ–½** - ä½¿ç”¨ `/start-work` å¯åŠ¨é˜¶æ®µ0ï¼ˆæ¶æ„è®¾è®¡æ–‡æ¡£è¡¥å……ï¼‰
4. **å‚è€ƒè¯¦ç»†è®¡åˆ’** - æŸ¥çœ‹ `.sisyphus/plans/*.md` è·å–æµ‹è¯•è¦†ç›–ç‚¹è¯¦æƒ…

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

### æ¶æ„ç›¸å…³
- **æ¶æ„æ•´æ”¹å»ºè®®**: `.sisyphus/architecture-review-recommendations.md` (1074è¡Œ)
- **äº§å“éœ€æ±‚**: `docs/PRD.md`
- **æŠ€æœ¯æ¶æ„**: `docs/architecture.md` (27KB)
- **åè®®è§„èŒƒ**: `docs/websocket-protocol.md` (486è¡Œ)

### åŸé¡¹ç›®å‚è€ƒ
- **åŸé¡¹ç›®**: `/Users/Hana/Codes/pocket-holdem-mvp`

---

## ğŸ“Œ é£é™©ç­‰çº§è¯´æ˜

- ğŸ”´ **P0 - å¿…é¡»ä¿®å¤ï¼Œé˜»å¡å¼€å‘**
  - å½±å“ç³»ç»Ÿæ­£ç¡®æ€§æˆ–å®‰å…¨æ€§
  - ä¸ä¿®å¤æ— æ³•ç»§ç»­å¼€å‘
  - 3é¡¹ï¼šDTOä½“ç³»ã€å¹¶å‘æµ‹è¯•ã€é”è¶…æ—¶

- ğŸŸ¡ **P1 - å¼ºçƒˆå»ºè®®ï¼Œå½±å“ç¨³å®šæ€§**
  - å½±å“ç³»ç»Ÿç¨³å®šæ€§æˆ–ç”¨æˆ·ä½“éªŒ
  - ä¸ä¿®å¤å¯èƒ½å¯¼è‡´ç”Ÿäº§é—®é¢˜
  - 3é¡¹ï¼šSTOMPé‡è¿ã€JSONé…ç½®ã€æŸ¥è¯¢å»é”åŒ–

- ğŸŸ¢ **P2 - å»ºè®®ä¼˜åŒ–ï¼Œå½±å“æ‰©å±•æ€§**
  - å½±å“ç³»ç»Ÿæ‰©å±•æ€§æˆ–æ€§èƒ½
  - å¯ä»¥æ¨è¿Ÿï¼Œä½†å»ºè®®å®Œæˆ
  - 2é¡¹ï¼šæ€§èƒ½æµ‹è¯•ã€åˆ†å¸ƒå¼é”è§„åˆ’

---

**æœ€åæ›´æ–°**: 2026-01-23ï¼ˆæ ¹æ®æ¶æ„æ•´æ”¹å»ºè®®æ›´æ–°ï¼‰
**å½“å‰çŠ¶æ€**: ç­‰å¾…è®¡åˆ’è¯„å®¡å’Œç¡®è®¤
**é¢„è®¡æ€»å·¥æœŸ**: 15-18å¤©ï¼ˆè¾ƒåŸè®¡åˆ’ +6-8å¤©ï¼‰
